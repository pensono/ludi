<script lang="ts">
    export let color: string;
    export let capWidth = false;
    export let animate = false;

</script>

<svg version="1.1" viewBox="0 0 25.3 7.3766" xmlns="http://www.w3.org/2000/svg" height="100%" width="{capWidth ? "100%" : ""}" class:animate >
    <g id="logo" aria-label="Ludi" fill={color} >
        <path id="l" vector-effect="non-scaling-stroke" d="m4.5614 4.3286h-1.5134v-2.794c0-0.42333-0.16933-0.80433-0.4445-1.0795s-0.65617-0.45508-1.0795-0.45508c-0.84667 0-1.524 0.68792-1.524 1.5346v4.318c0 0.20108 0.042333 0.40217 0.11642 0.58208 0.074083 0.17992 0.1905 0.34925 0.32808 0.49742 0.28575 0.28575 0.67733 0.4445 1.0795 0.4445h3.0374c0.42333 0 0.80433-0.16933 1.0795-0.4445 0.27517-0.27517 0.4445-0.65617 0.4445-1.0795 0-0.84667-0.68792-1.524-1.524-1.524z"/>
        <path id="u" vector-effect="non-scaling-stroke" d="m10.369 7.3766c0.04233-0.010583 0.09525-0.010583 0.16933-0.021167 0.29633-0.03175 0.61383-0.10583 0.92075-0.24342 0.32808-0.14817 0.635-0.35983 0.89958-0.62442 0.27517-0.27517 0.508-0.60325 0.65617-0.97367 0.15875-0.35983 0.23283-0.75142 0.23283-1.1218v-2.8575c0-0.42333-0.16933-0.80433-0.4445-1.0795s-0.65617-0.45508-1.0795-0.45508c-0.40217 0-0.762 0.15875-1.0372 0.41275-0.27517 0.254-0.45508 0.60325-0.48683 0.99483-0.021167-0.39158-0.20108-0.74083-0.47625-0.99483-0.27517-0.254-0.635-0.41275-1.0372-0.41275-0.84667 0-1.524 0.68792-1.524 1.5346v2.8892c0.010583 0.37042 0.09525 0.75142 0.254 1.1112 0.14817 0.34925 0.37042 0.67733 0.64558 0.9525 0.23283 0.22225 0.52917 0.46567 0.91017 0.62442 0.3175 0.14817 0.64558 0.22225 0.9525 0.24342 0.127 0.021167 0.22225 0.021167 0.26458 0.021167h0.02117 0.01058 0.14817z"/>
        <path id="d" vector-effect="non-scaling-stroke" d="m20.862 2.2754c-0.08467-0.22225-0.20108-0.4445-0.33867-0.64558-0.13758-0.20108-0.29633-0.39158-0.46567-0.56092-0.30692-0.30692-0.67733-0.56092-1.0795-0.75142-0.40217-0.17992-0.83608-0.28575-1.2806-0.30692h-0.05292c-0.01058-0.010583-0.031747-0.010583-0.04233-0.010583h-1.6298c-0.20108 0-0.40217 0.042333-0.58208 0.127-0.1905 0.074083-0.35983 0.17992-0.49742 0.32808-0.28575 0.28575-0.4445 0.67733-0.4445 1.0795v4.318c0 0.20108 0.04233 0.40217 0.11642 0.58208 0.07408 0.17992 0.1905 0.34925 0.32808 0.49742 0.28575 0.28575 0.67733 0.4445 1.0795 0.4445h1.6087c0.23283-0.010583 0.46567-0.03175 0.68792-0.084667s0.4445-0.127 0.65617-0.22225c0.42333-0.1905 0.80433-0.45508 1.1218-0.762 0.16933-0.16933 0.32808-0.35983 0.46567-0.56092 0.13758-0.20108 0.254-0.41275 0.34925-0.64558 0.1905-0.4445 0.27517-0.93133 0.27517-1.4076v-0.010583c0-0.47625-0.08467-0.96308-0.27517-1.4076z"/>
        <path id="i" vector-effect="non-scaling-stroke" d="m25.3 1.5346c0-0.42333-0.16933-0.80433-0.4445-1.0795-0.27517-0.27517-0.65617-0.45508-1.0795-0.45508-0.83608 0-1.524 0.68792-1.524 1.5346v4.318c0 0.42333 0.16933 0.80433 0.4445 1.0795 0.27517 0.27517 0.65617 0.4445 1.0795 0.4445 0.84667 0 1.524-0.67733 1.524-1.524z"/>
    </g>

    {#if animate}
        <clipPath id="logo-clip">
            <use xlink:href="#l" style="overflow: visible;"/>
            <use xlink:href="#u" style="overflow: visible;"/>
            <use xlink:href="#d" style="overflow: visible;"/>
            <use xlink:href="#i" style="overflow: visible;"/>
        </clipPath>
        <use href="#logo" style="clip-path: url(#logo-clip)" stroke="{color}" stroke-width="4px"></use>
    {/if}
</svg>

<style lang="scss">
    svg.animate {
        animation-name: fill-in;
        animation-duration: 2s;
        animation-timing-function: cubic-bezier(.45,.05,.55,.95);

    }

    @keyframes fill-in {
        from {
            fill-opacity: 0;
        }
        to {
            fill-opacity: 1;
        }
    }
</style>